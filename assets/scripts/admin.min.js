!function(e,t){"use strict";function n(){var t=e(this),n=t.parents(".menu-item").find(".nav_item_options-redirect_url");"custom"==t.val()?n.show():n.hide()}function s(){var t=e(this),n=t.parents(".menu-item"),s=n.find(".nav_item_options-roles");"logged_in"==t.val()?(s.show(),n.addClass("show-insert-button")):(s.hide(),n.removeClass("show-insert-button"))}function i(){e(this).parent().toggleClass("open")}function o(t){void 0!==t&&e(t.target).parents(".jpum-user-codes").length||e(".jpum-user-codes").removeClass("open")}function c(t){var n=e(this),s=n.parents("p").find("input"),i=s.val();t.which=t.which||t.keyCode,"keypress"===t.type&&13!==t.keyCode&&32!==t.keyCode||(s.val(i+"{"+n.data("code")+"}"),o(),t.preventDefault())}function u(){return e("input.edit-menu-item-title").each(function(){var t=e(this).parents("label"),n=_.template(e("#tmpl-jpum-user-codes").html());t.parents("p").find(".jpum-user-codes").length||t.after(n())})}function r(){u(),e(".nav_item_options-redirect_type select").each(n),e(".nav_item_options-which_users select").each(s)}t.on("change",".nav_item_options-redirect_type select",n).on("change",".nav_item_options-which_users select",s).on("click",".jpum-user-codes > button",i).on("click keypress",".jpum-user-codes li > a",c).on("click",o).ready(r),e(".submit-add-to-menu").click(function(){setTimeout(r,1e3)})}(jQuery,jQuery(document));